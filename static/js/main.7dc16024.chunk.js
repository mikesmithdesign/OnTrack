(this["webpackJsonptrain-app"]=this["webpackJsonptrain-app"]||[]).push([[0],{18:function(e,a,t){e.exports=t.p+"static/media/train.585577ad.svg"},19:function(e,a,t){e.exports=t(44)},24:function(e,a,t){},42:function(e,a,t){},43:function(e,a,t){},44:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),s=t(17),c=t.n(s),r=t(2),i=t(3),o=t(5),m=t(4),u=t(6),d=(t(24),t(7)),p=t.n(d),f=(t(42),function(e){function a(){var e,t;Object(r.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={trains:[],arrivals:[]},t.handleClick=function(e){e.target.classList.toggle("spin"),e.target.parentNode.parentNode.querySelector(".callingPoints").classList.toggle("closed")},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.a.get("https://api.departureboard.io/api/v2.0/getDeparturesByCRS/".concat(this.props.startPoint.crs,"/?apiKey=68eaf87e-6cc1-49ca-9e95-f8f1da42ac99&filterStation=").concat(this.props.endPoint.crs,"&numServices=5")).then((function(a){console.log(a.data.trainServices),e.setState({trains:a.data.trainServices})})).catch((function(e){return console.log(e)})),p.a.get("https://api.departureboard.io/api/v2.0/getArrivalsByCRS/".concat(this.props.endPoint.crs,"/?apiKey=68eaf87e-6cc1-49ca-9e95-f8f1da42ac99&timeOffset=42&filterStation=").concat(this.props.startPoint.crs,"&numServices=5")).then((function(a){console.log(a.data.trainServices),e.setState({arrivals:a.data.trainServices})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,a=this.state,t=a.trains,n=a.arrivals,s=this.props,c=s.startPoint,r=s.endPoint;return l.a.createElement("div",{className:"timesContainer"},l.a.createElement("ul",{className:"trainTimes"},t.map((function(a,t){return l.a.createElement("li",{key:a.serviceID,className:"animated fadeInUp",style:{animationDelay:"".concat(1.45+.15*t,"s")}},l.a.createElement("div",{className:"cardTop"},l.a.createElement("div",{className:"times"},l.a.createElement("div",{className:"departure"},"On time"!==a.etd?l.a.createElement("span",{className:"delayed"},l.a.createElement("p",null,a.etd),l.a.createElement("s",null,a.std)):l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,a.std),l.a.createElement("s",{className:"fade"},a.std))),l.a.createElement("div",{className:"dots"},l.a.createElement("ul",null,l.a.createElement("li",{className:"animated fadeInDown",style:{animationDelay:"".concat(1.6+.15*t,"s")}}),l.a.createElement("li",{className:"animated fadeInDown",style:{animationDelay:"".concat(1.7+.15*t,"s")}}),l.a.createElement("li",{className:"animated fadeInDown",style:{animationDelay:"".concat(1.8+.15*t,"s")}}),l.a.createElement("li",{className:"animated fadeInDown",style:{animationDelay:"".concat(1.9+.15*t,"s")}}),l.a.createElement("li",{className:"animated fadeInDown",style:{animationDelay:"".concat(2+.15*t,"s")}}))),a.subsequentCallingPointsList[0].subsequentCallingPoints.filter((function(e){return e.crs===r.crs})).map((function(e){return l.a.createElement("div",{className:"arrival",key:a.serviceID},"On time"!==e.et?l.a.createElement("span",{className:"delayed"},l.a.createElement("p",null,e.et),l.a.createElement("s",null,e.st)):l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,e.st),l.a.createElement("s",{className:"fade"},e.st)))}))),l.a.createElement("div",{className:"location"},l.a.createElement("div",{className:"start"},l.a.createElement("p",null,c.crs," ",l.a.createElement("br",null),l.a.createElement("span",null,a.platform?"Platform ".concat(a.platform):"Platform --"))),l.a.createElement("div",{className:"time"},l.a.createElement("p",null,(new Date("01/01/2007 "+a.subsequentCallingPointsList[0].subsequentCallingPoints.filter((function(e){return e.crs===r.crs})).map((function(e){return function(){switch(e.et){case"On time":return e.st;default:return e.et}}()}))).getTime()-new Date("01/01/2007 "+function(){switch(a.etd){case"On time":return a.std;default:return a.etd}}()).getTime())/1e3/60,"m")),l.a.createElement("div",{className:"end"},l.a.createElement("p",null,r.crs," ",l.a.createElement("br",null),n.filter((function(e){return e.sta===a.subsequentCallingPointsList[0].subsequentCallingPoints[a.subsequentCallingPointsList[0].subsequentCallingPoints.length-1].st&&e.origin[0].locationName===a.origin[0].locationName})).map((function(e){return l.a.createElement("span",{key:a.serviceID},e.platform?"Platform ".concat(e.platform):"Platform --")}))))),l.a.createElement("ul",{className:"callingPoints closed"},a.subsequentCallingPointsList[0].subsequentCallingPoints.map((function(e){return l.a.createElement("li",{key:e.crs},l.a.createElement("p",null,e.locationName," "),"On time"!==e.et?l.a.createElement("span",{className:"delayed"},l.a.createElement("p",null,l.a.createElement("s",null,e.st)," ",e.et)):l.a.createElement("p",null,e.st))})))),l.a.createElement("div",{className:"cardBottom"},l.a.createElement("p",null,l.a.createElement("span",{className:"operator"},a.operator," ")," service"," ",l.a.createElement("br",null),"from"," ",l.a.createElement("span",{className:"location"},a.origin[0].locationName)," ","to"," ",l.a.createElement("span",{className:"location"},a.subsequentCallingPointsList[0].subsequentCallingPoints[a.subsequentCallingPointsList[0].subsequentCallingPoints.length-1].locationName)," "),l.a.createElement("button",{onClick:e.handleClick},"+")))}))))}}]),a}(n.Component)),E=t(18),v=t.n(E);t(43);var g=function(e){var a=e.startPoint,t=e.endPoint;return l.a.createElement("header",null,l.a.createElement("div",{className:"headerLocation"},l.a.createElement("p",{className:"animated fadeIn"},a.location),l.a.createElement("p",{className:"animated fadeIn"},t.location)),l.a.createElement("div",{className:"headerCrs"},l.a.createElement("h2",{className:"animated fadeIn"},a.crs),l.a.createElement("div",{className:"graphicContainer"},l.a.createElement("ul",null,l.a.createElement("li",{className:"animated fadeInDown"}),l.a.createElement("li",{className:"animated fadeInDown"}),l.a.createElement("li",{className:"animated fadeInDown"})),l.a.createElement("img",{src:v.a,alt:"",className:"animated fadeInDown"}),l.a.createElement("ul",null,l.a.createElement("li",{className:"animated fadeInDown"}),l.a.createElement("li",{className:"animated fadeInDown"}),l.a.createElement("li",{className:"animated fadeInDown"}))),l.a.createElement("h2",{className:"animated fadeIn"},t.crs)))},N=(n.Component,function(e){function a(){var e,t;Object(r.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={startPoint:{crs:"EGH",location:"Egham"},endPoint:{crs:"WAT",location:"London Waterloo"}},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.state,a=e.startPoint,t=e.endPoint;return l.a.createElement("div",{className:"App"},l.a.createElement(g,{startPoint:a,endPoint:t}),l.a.createElement(f,{startPoint:a,endPoint:t}))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[19,1,2]]]);
//# sourceMappingURL=main.7dc16024.chunk.js.map