(this["webpackJsonptrain-app"]=this["webpackJsonptrain-app"]||[]).push([[0],{18:function(e,a,t){e.exports=t.p+"static/media/train.585577ad.svg"},19:function(e,a,t){e.exports=t(43)},24:function(e,a,t){},42:function(e,a,t){},43:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(17),s=t.n(l),c=t(2),i=t(3),o=t(5),m=t(4),u=t(6),d=(t(24),t(7)),p=t.n(d),f=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={trains:[],arrivals:[]},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.a.get("https://api.departureboard.io/api/v2.0/getDeparturesByCRS/".concat(this.props.startPoint.crs,"/?apiKey=68eaf87e-6cc1-49ca-9e95-f8f1da42ac99&filterStation=").concat(this.props.endPoint.crs,"&numServices=5")).then((function(a){console.log(a.data.trainServices),e.setState({trains:a.data.trainServices})})).catch((function(e){return console.log(e)})),p.a.get("https://api.departureboard.io/api/v2.0/getArrivalsByCRS/".concat(this.props.endPoint.crs,"/?apiKey=68eaf87e-6cc1-49ca-9e95-f8f1da42ac99&timeOffset=42&filterStation=").concat(this.props.startPoint.crs)).then((function(a){console.log(a.data.trainServices),e.setState({arrivals:a.data.trainServices})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state,a=e.trains,t=e.arrivals,n=this.props,l=n.startPoint,s=n.endPoint;return r.a.createElement("div",{className:"timesContainer"},r.a.createElement("ul",{className:"trainTimes"},a.map((function(e,a){return r.a.createElement("li",{key:e.serviceID,className:"animated fadeInUp",style:{animationDelay:"".concat(1.45+.15*a,"s")}},r.a.createElement("div",{className:"cardTop"},r.a.createElement("div",{className:"times"},r.a.createElement("div",{className:"departure"},"On time"!==e.etd?r.a.createElement("span",{className:"delayed"},r.a.createElement("p",null,e.etd),r.a.createElement("s",null,e.std)):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,e.std),r.a.createElement("s",{className:"fade"},e.std))),r.a.createElement("div",{className:"dots"}),e.subsequentCallingPointsList[0].subsequentCallingPoints.filter((function(e){return e.crs===s.crs})).map((function(a){return r.a.createElement("div",{className:"arrival",key:e.serviceID},"On time"!==a.et?r.a.createElement("span",{className:"delayed"},r.a.createElement("p",null,a.et),r.a.createElement("s",null,a.st)):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,a.st),r.a.createElement("s",{className:"fade"},a.st)))}))),r.a.createElement("div",{className:"location"},r.a.createElement("div",{className:"start"},r.a.createElement("p",null,l.location," ",r.a.createElement("br",null),r.a.createElement("span",null,e.platform?"Platform ".concat(e.platform):"Waiting for platform"))),r.a.createElement("div",{className:"time"}),r.a.createElement("div",{className:"end"},r.a.createElement("p",null,s.location," ",r.a.createElement("br",null),t.filter((function(a){return a.sta===e.subsequentCallingPointsList[0].subsequentCallingPoints[e.subsequentCallingPointsList[0].subsequentCallingPoints.length-1].st})).map((function(a){return r.a.createElement("span",{key:e.serviceID},a.platform?"Platform ".concat(a.platform):"Waiting for platform")})))))),r.a.createElement("div",{className:"cardBottom"},r.a.createElement("p",null,r.a.createElement("span",{className:"operator"},e.operator," ")," service"," ",r.a.createElement("br",null),"from"," ",r.a.createElement("span",{className:"location"},e.origin[0].locationName)," ","to"," ",r.a.createElement("span",{className:"location"},e.subsequentCallingPointsList[0].subsequentCallingPoints[e.subsequentCallingPointsList[0].subsequentCallingPoints.length-1].locationName)," ")))}))))}}]),a}(n.Component),E=t(18),v=t.n(E);t(42);var h=function(e){var a=e.startPoint,t=e.endPoint;return r.a.createElement("header",null,r.a.createElement("div",{className:"headerLocation"},r.a.createElement("p",{className:"animated fadeIn"},a.location),r.a.createElement("p",{className:"animated fadeIn"},t.location)),r.a.createElement("div",{className:"headerCrs"},r.a.createElement("h2",{className:"animated fadeIn"},a.crs),r.a.createElement("div",{className:"graphicContainer"},r.a.createElement("div",{className:"graphicInner"},r.a.createElement("ul",null,r.a.createElement("li",{className:"animated fadeInDown"}),r.a.createElement("li",{className:"animated fadeInDown"}),r.a.createElement("li",{className:"animated fadeInDown"})),r.a.createElement("img",{src:v.a,alt:"",className:"animated fadeInDown"}),r.a.createElement("ul",null,r.a.createElement("li",{className:"animated fadeInDown"}),r.a.createElement("li",{className:"animated fadeInDown"}),r.a.createElement("li",{className:"animated fadeInDown"})))),r.a.createElement("h2",{className:"animated fadeIn"},t.crs)))},N=(n.Component,function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={startPoint:{crs:"EGH",location:"Egham"},endPoint:{crs:"WAT",location:"London Waterloo"}},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.state,a=e.startPoint,t=e.endPoint;return r.a.createElement("div",{className:"App"},r.a.createElement(h,{startPoint:a,endPoint:t}),r.a.createElement(f,{startPoint:a,endPoint:t}))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[19,1,2]]]);
//# sourceMappingURL=main.8bb917dc.chunk.js.map